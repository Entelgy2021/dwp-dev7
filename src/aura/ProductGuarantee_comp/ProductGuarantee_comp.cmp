<aura:component implements="flexipage:availableForAllPageTypes,force:hasRecordId" access="GLOBAL" controller="Product_cls">
<aura:attribute name="rows" type="Object[]" />   
<aura:attribute name="recordId" type="Id" />
<aura:attribute name="ProductId" type="Id" />
<aura:attribute name="PGuarantee" type="Object[]" />
<aura:attribute name="showModal" type="Boolean" default="false" />
<aura:attribute name="refreshTable" type="Boolean" default="true" />
<aura:handler name="init" value="{!this}" action="{!c.init}" />
<aura:handler name="PasoParametrosPadre" event="c:ReloadTable_evt" action="{!c.RecibeParametros}"/>
<aura:renderIf isTrue="{!v.refreshTable}">
 <table class="slds-table slds-table_bordered slds-table_resizable-cols slds-table_fixed-layout" role="grid">
            <thead>
                <tr >
                    <th scope="col" class="slds-is-sortable slds-is-resizable">
                        <div class="slds-truncate" title="Garantia">Garantia</div>
                    </th>      
                    <th scope="col" class="slds-is-sortable slds-is-resizable">
                        <div class="slds-truncate" title="Modalidad">Modalidad</div>
                    </th>       
                    <th scope="col" class="slds-is-sortable slds-is-resizable">
                        <div class="slds-truncate" title="Estado Gtia">Estado Gtia</div>
                    </th>       
                    <th scope="col" class="slds-is-sortable slds-is-resizable">
                        <div class="slds-truncate" title="Plazo formalizar">Plazo formalizar</div>
                    </th>                                    
                    <th scope="col" class="slds-is-sortable slds-is-resizable">
                        <div class="slds-truncate" title="N° Gtia  CRGA	">N° Gtia  CRGA	</div>
                    </th>     
                    <th scope="col" class="slds-is-sortable slds-is-resizable">
                        <div class="slds-truncate" title="Importe Gtia">Importe Gtia</div>
                    </th> 
                    <th scope="col" class="slds-is-sortable slds-is-resizable">
                        <div class="slds-truncate" title="Acción">Acción</div>
                    </th>                  
                </tr>
            </thead>
            <tbody>
                <aura:iteration items="{!v.rows}" var="row" indexVar="rowIndex">
                        <tr class="slds-is-sortable slds-is-resizable" style="overflow-x:auto;">                          
                            <th role="gridcell" class="slds-is-sortable slds-is-resizable"> 
                                <div class="slds-truncate" title="{!row.Guarantee__c}">{!row.Guarantee__c}</div>
                            </th>
                            <th><div class="slds-truncate" title="{!row.Modality__c}">{!row.Modality__c}</div></th>
                            <th><div class="slds-truncate" title="{!row.Status__c}">{!row.Status__c}</div></th>
                            <th><div class="slds-truncate" title="{!row.Term__c}">{!row.Term__c}&nbsp;{!row.Periodicity__c}</div></th>
                            <th><div class="slds-truncate" title="{!row.nGuarantee__c}">{!row.nGuarantee__c}</div></th>
                            <th><div class="slds-truncate" title="{!row.Amount__c +'.00'}"> <ui:outputCurrency value="{!row.Amount__c}" /></div></th>
                            <th>
                                <lightning:button variant="none" iconName="utility:edit" aura:id="editR" title="{!row.Id}" value="{!row}"   onclick="{!c.editRow}" />
                                &nbsp;
                                <lightning:button variant="none" iconName="utility:delete" aura:id="deleteR" title="{!row.isMaster__c}" value="{!row.Id}" onclick="{!c.deleteRow}" />
                                </th>
                        </tr>                  
                </aura:iteration>
            </tbody>
        </table>       	
        <lightning:button class="addButton" iconName="utility:add" onclick="{!c.addRecord}">Añadir garantía</lightning:button>
        <aura:if isTrue="{!v.showModal}">
            <c:modalAddGurantee_comp  isActive="{!v.showModal}" OpportunityId="{!v.recordId}" ProductId="{!v.ProductId}" PGuarantee="{!v.PGuarantee}" />  
        </aura:if>
       
</aura:renderIf></aura:component>